import struct

# dump of (most) values I wrote down manually from the app whilst
# recording unique values in broadcast announce packets

#listening for temperatures on the following:
#<class '__main__.Govee_H5179'>, Govee_H5179_****
# firmware 1.02.00
# hardware 1.00.02
# product model H5179
# data freq 30 mins (10 mins, 30 mins, 60 mins)
# wifi: None
# battery 4/4

def print_vs(vs):
	print('vs block are:')
	for v in vs:
		assert v[0:4].hex() == 'ec000101'
		temp, humid, bat = struct.unpack("<hhb", v[4:])
		print(f"raw={v[4:8].hex()} temp={temp/100} humid={humid/100} bat={bat}%")

	print()
vs = [b'\xec\x00\x01\x01\x80\x07\xae\x15X', b'\xec\x00\x01\x01\xf4\x06b\x16X', b'\xec\x00\x01\x01\x12\x07\xd2\x19X', b'\xec\x00\x01\x01v\x07&\x16X', b'\xec\x00\x01\x01:\x07\xe2\x18X', b'\xec\x00\x01\x01b\x07\xf8\x16X', b'\xec\x00\x01\x01\x12\x07\xdc\x19X', b'\xec\x00\x01\x01\x80\x07\x9a\x15X', b'\xec\x00\x01\x01\xfe\x06\xa2\x17X', b'\xec\x00\x01\x01b\x07>\x17X', b'\xec\x00\x01\x01\x8a\x07|\x15X', b'\xec\x00\x01\x01:\x07P\x19X', b'\xec\x00\x01\x01l\x07\x80\x16X', b'\xec\x00\x01\x01&\x07,\x1aX', b'\xec\x00\x01\x01\x08\x07n\x19X', b'\xec\x00\x01\x01D\x07\x88\x18X', b'\xec\x00\x01\x01v\x07N\x16X', b'\xec\x00\x01\x01\x80\x07\xcc\x15X', b'\xec\x00\x01\x01v\x07\xfe\x15X', b'\xec\x00\x01\x01\x1c\x07h\x1aX', b'\xec\x00\x01\x01l\x07\xbc\x16X', b'\xec\x00\x01\x01N\x07B\x18X', b'\xec\x00\x01\x01\xf4\x06\x12\x16X', b'\xec\x00\x01\x010\x07\xb4\x19X', b'\xec\x00\x01\x01\x08\x07\xc8\x19X', b'\xec\x00\x01\x01\x80\x07\xea\x15X']
print_vs(vs)

vs = [b'\xec\x00\x01\x01\xa2\x08\xce\x13X', b'\xec\x00\x01\x01\xfc\x08$\x13X', b'\xec\x00\x01\x01 \x08\xc8\x14X', b'\xec\x00\x01\x01R\x08d\x14X', b'\xec\x00\x01\x01\xb6\x08\xa6\x13X', b'\xec\x00\x01\x01>\x08\x8c\x14X', b'\xec\x00\x01\x01\xca\x08~\x13X', b'\xec\x00\x01\x01z\x08\x00\x14X', b'\xec\x00\x01\x01\x98\x08\xec\x13X', b'\xec\x00\x01\x01\xd4\x08t\x13X', b'\xec\x00\x01\x01\xa2\x08\xc4\x13X', b'\xec\x00\x01\x01H\x08\x82\x14X', b'\xec\x00\x01\x01p\x08(\x14X', b'\xec\x00\x01\x01\xe8\x08B\x13X', b'\xec\x00\x01\x01H\x08n\x14X', b'\xec\x00\x01\x01H\x08x\x14X', b'\xec\x00\x01\x01>\x08\x96\x14X', b'\xec\x00\x01\x01\xca\x08\x92\x13X', b'\xec\x00\x01\x01R\x08Z\x14X', b'\xec\x00\x01\x01\xac\x08\xba\x13X', b'\xec\x00\x01\x01\xde\x08`\x13X', b'\xec\x00\x01\x01\xe8\x08L\x13X', b'\xec\x00\x01\x01*\x08\xb4\x14X', b'\xec\x00\x01\x01\x06\t\x10\x13X', b'\xec\x00\x01\x01\x8e\x08\x00\x14X', b'\xec\x00\x01\x01\x84\x08\xf6\x13X', b'\xec\x00\x01\x01\xf2\x088\x13X', b'\xec\x00\x01\x01*\x08\xbe\x14X', b'\xec\x00\x01\x01\xac\x08\xb0\x13X', b'\xec\x00\x01\x01\\\x082\x14X', b'\xec\x00\x01\x01\xb6\x08\xb0\x13X', b'\xec\x00\x01\x01\xde\x08V\x13X', b'\xec\x00\x01\x014\x08\xaa\x14X', b'\xec\x00\x01\x01z\x08\n\x14X', b'\xec\x00\x01\x01\xd4\x08j\x13X', b'\xec\x00\x01\x01f\x08(\x14X', b'\xec\x00\x01\x01\xe8\x08V\x13X', b'\xec\x00\x01\x01 \x08\xd2\x14X', b'\xec\x00\x01\x01f\x08\x1e\x14X', b'\xec\x00\x01\x01\x8e\x08\xf6\x13X', b'\xec\x00\x01\x01p\x08\x1e\x14X', b'\xec\x00\x01\x01\x98\x08\xd8\x13X']
print_vs(vs)
# 20.9
# 21.2  52.3
# 21.5  51.6
# 21.7  51.3
# 21.9  50.7
# 22.3  50.2
# 22.6  49.8
# 22.9  49.3
# 23.2  48.6

vs = [b'\xec\x00\x01\x01\xb0\t\xa8\x11X', b'\xec\x00\x01\x01\xce\tb\x11X', b'\xec\x00\x01\x01\x1e\n\xf4\x10X', b'\xec\x00\x01\x01\xc4\t\x8a\x11X', b'\xec\x00\x01\x01\xe2\t&\x11X', b'\xec\x00\x01\x01\xa6\t\xbc\x11X', b'\xec\x00\x01\x01\x1e\n\xe0\x10X', b'\xec\x00\x01\x01\xb0\t\xb2\x11X', b'\xec\x00\x01\x01\xe2\t0\x11X', b'\xec\x00\x01\x01\n\n\x08\x11X', b'\xec\x00\x01\x01\x1e\n\xea\x10X', b'\xec\x00\x01\x01\xd8\tX\x11X', b'\xec\x00\x01\x01\xba\t\x9e\x11X', b'\xec\x00\x01\x01(\n\xe0\x10X', b'\xec\x00\x01\x01\xba\t\x94\x11X', b'\xec\x00\x01\x01\x00\n\x1c\x11X', b'\xec\x00\x01\x01\xf6\t0\x11X', b'\xec\x00\x01\x01\xd8\tb\x11X', b'\xec\x00\x01\x01\xd8\tD\x11X', b'\xec\x00\x01\x01\x14\n\x08\x11X', b'\xec\x00\x01\x01\xec\t:\x11X', b'\xec\x00\x01\x01\xc4\tv\x11X', b'\xec\x00\x01\x01\xe2\t:\x11X', b'\xec\x00\x01\x01\xce\tX\x11X', b'\xec\x00\x01\x01\n\n\x12\x11X', b'\xec\x00\x01\x01\xec\tD\x11X', b'\xec\x00\x01\x01\x14\n\xfe\x10X', b'\xec\x00\x01\x01\xf6\t:\x11X', b'\xec\x00\x01\x01\x00\n\x12\x11X', b'\xec\x00\x01\x01\xa6\t\xb2\x11X', b'\xec\x00\x01\x01\x00\n&\x11X', b'\xec\x00\x01\x01\xce\tl\x11X']
print_vs(vs)
# 24.9 45.1
# 25.0 44.7
# 25.3 44.0
# 25.4 44.1
# 25.5 44.1
# 25.6 43.8
# 25.8 43.5
# 25.9 43.2
# 26.0 43.2
# 26.0 42.9
# 26.1 42.9
# 26.2 42.8



